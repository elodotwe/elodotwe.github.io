<html>
<head><title>My first quadrotor</title></head>
<body>
<h1>My first quadrotor</h1>
<p><i>2014-07-08: it begins.</i></p>
<p>I want to build a quadrotor. I'd like it to be a few things:</p>
<ul><li>Cheap. If possible, I'd like to drop less than $100 on this project. The wife approval factor is important here.</li>
<li>Simple. Somewhat related to the above point. I don't want to spend a ton of time doing the physical build of this either.</li>
<li>Programmable. I am most interested in tuning the feedback loops myself, integrating the accelerometer, etc. It doesn't seem like a lot of fun to me to have a prebuilt IMU doing all the magic inside a black box.</li>
<li>Entirely designed by me. I don't want to build a kit; I'm interested in designing the board myself. (This could get ugly, since it is my first board of any kind. I guess we'll see what happens.)</li></ul>
<p>I'll eventually get to component selection, but right now what I'm most anxious about is the tooling I'll use to build the schematic and lay out the board. I've done some work in Eagle, but I'd like to learn KiCad. Now is the time.</p>
<p>I'm on Debian. I know that in general, the software in the repositories is horribly out of date, and in the case of KiCad (which I know to be under active development) that doesn't sound terribly appealing. So I hopped over to the KiCad website. There's a nice little shell script which downloads the prerequisites and compiles from source the current version of KiCad. I kicked that off and waited. And waited. And waited. Granted, it told me outright that I would need 2GB of space, so I guess it is just a large package. While that ripens, I'll find something else to do.</p>
<p><i>2014-07-10</i></p>
<p>Going through a few KiCad tutorials. Got it installed properly as far as I can tell, but I suspect I'm going to need to either create my own parts or find libraries for things.</p>
<p>What I'm designing right now as an initial test is a gyroscope and accelerometer board. It is simply a breakout for the gyro and accel I'm ordering. The board will be about as small as possible, and will contain only the accel and gyro and any bypass caps required to be right on top of the part.</p>
<p>The gyro itself I chose by visiting Mouser.com. I tend to find the search function there pretty useless, but the catalog features are quite usable. To find a part, on their homepage I selected Sensors, Motion and Position Sensors. I then selected Gyroscopes from the "Types of Motion and Position Sensors". This narrows me down to 85 parts. I know I need a three-axis gyro, and I want it to be in stock, so I select these options and apply the filter. (Annoyingly, the Mouser database folks seem to be filing things a little strangely, leaving "Triple", "Triple Axis", and "X, Y, Z" as options for sensing axis; I would read those all to mean the same.) This narrows me down to a manageable 19 parts. I want to keep this thing cheap, so I sort by price ascending, and I come up with a part that seems reasonable upon reading the datasheet--the Maxim MAX21000+T. It is listed as $3.51 per piece (and I'll buy a few, since I will certainly cook at least one of them with my Neanderthalian soldering skills). It communicates via SPI or I2C, which aren't hard. It takes a voltage in the 3v range, which I can manage. It has selectable sensitivity ranges (which makes me nervous, because it would seem that you would sacrifice accuracy having a one-size-fits-all gyro, but I'm not going for a quadrotor that Northrop Grumman would want to buy, so we'll chance it for $3.51).</p>
<p>The accelerometer I used a similar process to select. Once I got it narrowed down to what was in stock, triple-axis and within my supply voltage range (if I have to have a 3v rail for the gyro, I may as well use said rail for the accel too) I still had 80ish parts. If I search by what is cheapest, I find that I can get as low as $1.50, but I really have no idea how many gs 2g, 4g, 8g is. Is that something a quadrotor could experience? It is filed under the "low-G" section, which makes me a little nervous. Let's do a bit more research here... Well, I found an <a href="http://www.pololu.com/product/1265/specs">IMU meant for quadrotors</a>, and it has a 2g, 4g, 8g accelerometer onboard. Guess I'm going with the cheap part! I am choosing the Freescale MMA8453QR1. At $1.31 apiece, I'm getting a 2g, 4g, 8g sensor communicating over I2C and taking a 3V rail.</p>
<p>I did a bit of reading about what OSHPark can do for board specifications. It looks like for $5/sq.in. I can get three copies of my 2-layer board. This is very reasonable for these small sensor boards, but sounds very expensive to make a single-PCB quadrotor (I'm picturing something at least 8" square, which would mean 64 sq.in. and hence several hundred dollars for the board? Uh, no thanks.) I'll have to cross that hurdle when I get there. Perhaps I will either fabricate something to serve as an airframe, or I'll etch my own board to serve as the airframe. Not sure yet.</p>
<p>So I'll order 3 each of the sensors I've enumerated. The datasheets also call out specific bypass caps that will be required. The Maxim part wants one 1uF cap and one 0.1uF; the Freescale part's application notes display a 4.7uF ceramic cap and two 0.1uF caps. I will also need resistors to pull up the I2C lines; Freescale suggests 4.7k resistors.</p>
<p>I would love to put this Mouser order in tonight, but I know I need pin headers minimally, and I had probably better design the board before putting in the order--I'm sure I will have forgotten something if I don't.</p>
</body>
</html>
